---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

export interface Props {
	content: {
		title: string;
		description?: string;
		pubDate?: string;
		updatedDate?: string;
		heroImage?: string;
		schema?: string;
		tags?: string[];
	};
}

const {
	content: { title, description, pubDate, updatedDate, heroImage, schema = "http://schema.org/BlogPosting"},
} = Astro.props;
---

<html>
	<head>
		<BaseHead title={title} description={description} />
		<style>
			.title {
				font-size: 2em;
				margin: 0.25em 0 0;
			}
			hr {
				border-top: 1px solid #ddd;
				margin: 1rem 0;
			}
		</style>
	</head>

	<body>
		<Header />
		<main>
			<article class="h-entry" itemscope itemtype={schema}>
				<header>
					{heroImage && <img width={720} height={360} src={heroImage} alt="" />}
					<h1 class="title p-name" itemprop="headline">{title}</h1>
				</header>
				<div class="e-content" itemprop="articleBody">
					<slot />
				</div>
				<footer>
					<hr />
					{
						pubDate && (
							<div>
								Published on{" "}
								<time class="dt-published" itemprop="datePublished" datetime={pubDate}>
									{new Date(pubDate).toLocaleDateString("en-us", {
										year: "numeric",
										month: "short",
										day: "numeric",
										hour: "numeric",
										minute: "2-digit",
										timeZoneName: "short",
									})}
								</time>
							</div>
						)
					}
					{
						updatedDate && (
							<div>
								Last updated on{" "}
								<time class="dt-updated" itemprop="dateModified" datetime={updatedDate}>
									{new Date(updatedDate).toLocaleDateString("en-us", {
										year: "numeric",
										month: "short",
										day: "numeric",
										hour: "numeric",
										minute: "2-digit",
										timeZoneName: "short",
									})}
								</time>
							</div>
						)
					}
				</footer>
			</article>
		</main>
	</body>
</html>
